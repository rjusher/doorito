{# ── Desktop Sidebar ─────────────────────────────────────────────── #}
<aside class="hidden md:flex flex-col fixed top-0 left-0 bottom-0 bg-neutral-900 text-neutral-300 transition-all duration-200 z-30"
       :class="sidebarOpen ? 'w-64' : 'w-16'">

  {# Sidebar Header: Logo + Toggle #}
  <div class="px-4 py-3 border-b border-neutral-800">
    <div class="flex items-center justify-between">
      <a href="{% url 'frontend:dashboard' %}"
         class="text-lg font-bold text-white hover:text-primary-300 transition-colors"
         x-show="sidebarOpen" x-cloak>
        Doorito
      </a>
      <a href="{% url 'frontend:dashboard' %}"
         class="text-white"
         x-show="!sidebarOpen">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"/></svg>
      </a>
      <button @click="sidebarOpen = !sidebarOpen"
              class="text-neutral-400 hover:text-white min-h-[44px] min-w-[44px] flex items-center justify-center"
              x-show="sidebarOpen" x-cloak>
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>
      </button>
    </div>
  </div>

  {# Navigation #}
  <nav class="flex-1 overflow-y-auto py-4 px-2 space-y-1">
    {# Dashboard #}
    <a href="{% url 'frontend:dashboard' %}"
       class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors"
       :class="sidebarOpen ? '' : 'justify-center'"
       :class="'{% block sidebar_active %}{% endblock %}' === 'dashboard' ? 'bg-neutral-800 text-white' : 'hover:bg-neutral-800 hover:text-white'">
      <svg class="w-5 h-5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/></svg>
      <span x-show="sidebarOpen" x-cloak>Dashboard</span>
    </a>

    {# ── Add your navigation links here ─────────────────────────── #}
    {# Example:
    <a href="#"
       class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors hover:bg-neutral-800 hover:text-white"
       :class="sidebarOpen ? '' : 'justify-center'">
      <svg class="w-5 h-5 shrink-0" ...></svg>
      <span x-show="sidebarOpen" x-cloak>Page Name</span>
    </a>
    #}
  </nav>

  {# Sidebar Footer: User + Logout #}
  <div class="px-4 py-3 border-t border-neutral-800">
    <div class="flex items-center gap-3" :class="sidebarOpen ? '' : 'justify-center'">
      <div class="w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-medium shrink-0">
        {{ user.get_short_name|default:user.username|truncatechars:1|upper }}
      </div>
      <div class="flex-1 min-w-0" x-show="sidebarOpen" x-cloak>
        <p class="text-sm font-medium text-white truncate">{{ user.get_full_name|default:user.username }}</p>
        <p class="text-xs text-neutral-400 truncate">{{ user.email }}</p>
      </div>
      <a href="{% url 'frontend:logout' %}"
         class="text-neutral-400 hover:text-white"
         x-show="sidebarOpen" x-cloak
         title="Logout">
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"/></svg>
      </a>
    </div>
  </div>
</aside>

{# ── Mobile Sidebar Overlay ─────────────────────────────────────── #}
<div x-show="mobileOpen" x-cloak class="md:hidden fixed inset-0 z-40">
  {# Backdrop #}
  <div @click="mobileOpen = false"
       x-transition:enter="transition ease-out duration-200"
       x-transition:enter-start="opacity-0"
       x-transition:enter-end="opacity-100"
       x-transition:leave="transition ease-in duration-150"
       x-transition:leave-start="opacity-100"
       x-transition:leave-end="opacity-0"
       class="absolute inset-0 bg-black/50"></div>

  {# Drawer #}
  <aside x-transition:enter="transition ease-out duration-200"
         x-transition:enter-start="-translate-x-full"
         x-transition:enter-end="translate-x-0"
         x-transition:leave="transition ease-in duration-150"
         x-transition:leave-start="translate-x-0"
         x-transition:leave-end="-translate-x-full"
         class="relative w-64 h-full bg-neutral-900 text-neutral-300 flex flex-col">

    {# Mobile Header #}
    <div class="px-4 py-3 border-b border-neutral-800 flex items-center justify-between">
      <a href="{% url 'frontend:dashboard' %}" class="text-lg font-bold text-white">Doorito</a>
      <button @click="mobileOpen = false" class="text-neutral-400 hover:text-white min-h-[44px] min-w-[44px] flex items-center justify-center">
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>
      </button>
    </div>

    {# Mobile Navigation #}
    <nav class="flex-1 overflow-y-auto py-4 px-2 space-y-1">
      <a href="{% url 'frontend:dashboard' %}"
         class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors bg-neutral-800 text-white">
        <svg class="w-5 h-5 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/></svg>
        <span>Dashboard</span>
      </a>
    </nav>

    {# Mobile Footer: User + Logout #}
    <div class="px-4 py-3 border-t border-neutral-800">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-medium shrink-0">
          {{ user.get_short_name|default:user.username|truncatechars:1|upper }}
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-white truncate">{{ user.get_full_name|default:user.username }}</p>
          <p class="text-xs text-neutral-400 truncate">{{ user.email }}</p>
        </div>
        <a href="{% url 'frontend:logout' %}" class="text-neutral-400 hover:text-white" title="Logout">
          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"/></svg>
        </a>
      </div>
    </div>
  </aside>
</div>
